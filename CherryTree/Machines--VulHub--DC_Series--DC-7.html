<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>DC-7</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>DC-7</h1><br/>normal nmap and found that 80 and 443 are open<br />dirsearch and nikto found that it was drupal 8<br />kicked off drupwn and confirmed that the machine was drupal 8<br />Checked the bottom footer and saw it was a link to a twitter<br />the twitter pointed me to a github<br />the github gave me the username password $username = &quot;dc7user&quot;; $password = &quot;MdR3xOgB7#dW&quot;; (after grep -r ing)<br />with this I was able to login via ssh!<br />in the ~/backups dir there were two encrypted gpg files<br />found gpg creds with <a href="Machines--HTB--1-99--10.10.10.29_Bank--LinEnum.html">LinEnum</a> (ps)<br />opened and greped website.sql file and found users admin and dc7user with hashed creds<br />I could not break the creds<br />used drush to set the admin password to yeet<br />Now I can log in to the webpage as an admin!<br />went to extensions and added the drupal php module (version dose not matter) Made sure to enable it and check configs<br />I then went to content&gt;add content&gt;basic page. set text format to “PHP code” and dropped in code from pentestmonkey (<a href="http://pentestmonkey.net/tools/web-shells/perl-reverse-shell">http://pentestmonkey.net/tools/web-shells/perl-reverse-shell</a>)<br />opened a nc listener<br />hit save and the code executed!<br />now that I am www-data I am able to add a line to the backup.sh cron job being run by root!<br />open a nc listener<br />wait a minute...<br />root cannon!!<br /><br /> </div></body></html>